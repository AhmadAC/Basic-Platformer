# Level: 1
# Generated by Platformer Level Editor (Optimized Export)
import pygame
from tiles import Platform, Ladder, Lava
import constants as C

LEVEL_SPECIFIC_BACKGROUND_COLOR = (75, 0, 130)

def load_map_1(initial_screen_width, initial_screen_height):
    """
    Loads the '1' level.
    """
    print(f"Loading map: load_map_1...")
    platforms = pygame.sprite.Group()
    ladders = pygame.sprite.Group()
    hazards = pygame.sprite.Group()
    enemy_spawns_data = []
    collectible_spawns_data = []

    player1_spawn = (89, 757)

    # --- Placed Objects (merged where possible) ---
    platforms.add(Platform(80, 420.0, 40, 20, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(80, 540.0, 40, 20, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(80, 620.0, 240, 20, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(200, 360, 80, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(240, 320, 40, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(320, 480, 440, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(360, 440, 40, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(440, 240, 200, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(640, 600, 240, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(720, 360, 40, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(720, 440, 40, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(720, 400, 240, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(880.0, 500, 80, 20, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(920, 360, 40, 10, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(1080.0, 500, 40, 20, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(1080.0, 620, 40, 20, (0,100,0), platform_type='ledge'))
    platforms.add(Platform(0, 0, 80, 760, (128,128,128), platform_type='wall'))
    platforms.add(Platform(0, 760, 520, 40, (128,128,128), platform_type='wall'))
    platforms.add(Platform(480, 720, 40, 40, (128,128,128), platform_type='wall'))
    platforms.add(Platform(1000, 720, 40, 40, (128,128,128), platform_type='wall'))
    platforms.add(Platform(1000, 760, 200, 40, (128,128,128), platform_type='wall'))
    platforms.add(Platform(1120, 0, 80, 760, (128,128,128), platform_type='wall'))
    # No ladders placed.
    hazards.add(Lava(520, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(560, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(600, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(640, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(680, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(720, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(760, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(800, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(840, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(880, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(920, 760, 40, 40, (255,69,0)))
    hazards.add(Lava(960, 760, 40, 40, (255,69,0)))
    enemy_spawns_data.append({'pos': (769, 397), 'patrol': None, 'enemy_color_id': 'cyan'})
    enemy_spawns_data.append({'pos': (409, 477), 'patrol': None, 'enemy_color_id': 'pink'})
    enemy_spawns_data.append({'pos': (689, 597), 'patrol': None, 'enemy_color_id': 'red'})
    collectible_spawns_data.append({'type': 'chest', 'pos': (466, 239)})

    # --- Level Dimensions for Game Camera & Boundaries ---
    map_total_width_pixels = 1360
    level_min_y_absolute = -80
    level_max_y_absolute = 800
    main_ground_y_reference = 800
    main_ground_height_reference = 40

    _boundary_thickness = C.TILE_SIZE * 2
    _boundary_wall_height = level_max_y_absolute - level_min_y_absolute + (2 * _boundary_thickness)
    _boundary_color = getattr(C, 'DARK_GRAY', (50,50,50))

    # Filler wall on the right to ensure no empty background padding
    platforms.add(Platform(1200, level_min_y_absolute - _boundary_thickness, 160, _boundary_wall_height, _boundary_color, platform_type='wall'))

    # Boundary platforms (these define the absolute edges of the level area)
    # Top boundary (ceiling)
    platforms.add(Platform(0, level_min_y_absolute - _boundary_thickness, map_total_width_pixels, _boundary_thickness, _boundary_color, platform_type="boundary_wall_top"))
    # Bottom boundary (floor/kill plane)
    platforms.add(Platform(0, level_max_y_absolute, map_total_width_pixels, _boundary_thickness, _boundary_color, platform_type="boundary_wall_bottom"))
    # Left boundary
    platforms.add(Platform(-_boundary_thickness, level_min_y_absolute - _boundary_thickness, _boundary_thickness, _boundary_wall_height, _boundary_color, platform_type="boundary_wall_left"))
    # Right boundary (placed at the very edge of map_total_width_pixels)
    platforms.add(Platform(map_total_width_pixels, level_min_y_absolute - _boundary_thickness, _boundary_thickness, _boundary_wall_height, _boundary_color, platform_type="boundary_wall_right"))

    print(f"Map 'load_map_1' loaded with: {len(platforms)} platforms, {len(ladders)} ladders, {len(hazards)} hazards.")
    return (platforms, ladders, hazards, enemy_spawns_data, collectible_spawns_data,
            player1_spawn,
            map_total_width_pixels, level_min_y_absolute, level_max_y_absolute,
            main_ground_y_reference, main_ground_height_reference,
            LEVEL_SPECIFIC_BACKGROUND_COLOR)