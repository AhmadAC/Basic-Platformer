2025-05-16 02:49:54,003 - INFO - editor.py:44 - <module> - Editor session started. Logging initialized successfully to file.
2025-05-16 02:49:54,003 - DEBUG - editor.py:65 - <module> - Added project root 'c:\Users\ahmad\OneDrive\Computer Files\Programming\Scripts\Github\Scripts\Python Scripts\Canvas Scripts\2024\Python Game\Platformer' to sys.path.
2025-05-16 02:49:54,005 - INFO - editor.py:70 - <module> - Successfully imported 'constants as C_imported'. TILE_SIZE: 40
2025-05-16 02:49:54,119 - DEBUG - editor.py:97 - <module> - Successfully imported all editor-specific modules including new handlers.
2025-05-16 02:49:54,120 - INFO - editor.py:106 - editor_main - editor_main() started.
2025-05-16 02:49:55,392 - DEBUG - editor.py:109 - editor_main - pygame.init() called.
2025-05-16 02:49:55,392 - DEBUG - editor.py:116 - editor_main - pygame.font.init() confirmed or already initialized.
2025-05-16 02:49:55,419 - INFO - editor.py:126 - editor_main - Editor screen created: (1280, 720)
2025-05-16 02:49:55,419 - DEBUG - editor_state.py:19 - __init__ - Initializing EditorState...
2025-05-16 02:49:55,420 - DEBUG - editor_state.py:177 - recreate_map_content_surface - Recreated map_content_surface: 1200x800
2025-05-16 02:49:55,420 - DEBUG - editor_state.py:86 - __init__ - EditorState initialized.
2025-05-16 02:49:55,460 - DEBUG - editor.py:136 - editor_main - Fonts from ED_CONFIG.FONT_CONFIG loaded: small=True, medium=True, large=True, tooltip=True
2025-05-16 02:49:55,461 - DEBUG - editor.py:167 - editor_main - Initial Layout - Menu=<rect(10, 10, 280, 700)>, Assets=<rect(10, 10, 220, 700)>, Map=<rect(300, 10, 970, 700)>
2025-05-16 02:49:55,461 - INFO - editor.py:170 - editor_main - Entering main loop.
2025-05-16 02:50:08,676 - INFO - editor_handlers_menu.py:227 - handle_menu_events - Menu: 'Load Map' button clicked.
2025-05-16 02:50:08,676 - DEBUG - editor_state.py:114 - active_dialog_type - Changing active_dialog_type from 'None' to 'file_load'
2025-05-16 02:50:10,240 - DEBUG - editor_handlers_dialog.py:117 - handle_dialog_events - Dialog 'file_load' outcome: CONFIRMED
2025-05-16 02:50:10,240 - DEBUG - editor_state.py:114 - active_dialog_type - Changing active_dialog_type from 'file_load' to 'None'
2025-05-16 02:50:10,240 - DEBUG - editor_handlers_dialog.py:122 - handle_dialog_events - Calling confirm_callback for 'file_load' with value: 'maps\yes.json'
2025-05-16 02:50:10,240 - DEBUG - editor_handlers_menu.py:230 - on_file_sel - Attempting to load map from: maps\yes.json
2025-05-16 02:50:10,240 - INFO - editor_map_utils.py:144 - load_map_from_json - Loading map from JSON: 'maps\yes.json'
2025-05-16 02:50:10,241 - DEBUG - editor_map_utils.py:154 - load_map_from_json - Successfully read JSON data from 'maps\yes.json'.
2025-05-16 02:50:10,241 - DEBUG - editor_map_utils.py:170 - load_map_from_json - Loading 231 objects from JSON.
2025-05-16 02:50:10,241 - DEBUG - editor_map_utils.py:205 - load_map_from_json - Auto-correction: Found 10 lava coordinates for checking: {(520.0, 720), (800.0, 720), (480.0, 720), (760.0, 720), (560.0, 720), (680.0, 720), (600.0, 720), (720.0, 720), (640.0, 720), (840.0, 720)}
2025-05-16 02:50:10,243 - DEBUG - editor_state.py:177 - recreate_map_content_surface - Recreated map_content_surface: 1200x800
2025-05-16 02:50:10,243 - INFO - editor_map_utils.py:251 - load_map_from_json - Map 'yes' loaded from yes.json.. unsaved_changes=False, current_map_filename='maps\yes.py'
2025-05-16 02:50:10,243 - INFO - editor_state.py:189 - set_status_message - Status message set: 'Map 'yes' loaded from yes.json.' for 3.0s
2025-05-16 02:50:10,243 - DEBUG - editor_state.py:96 - current_editor_mode - Changing editor mode from 'menu' to 'editing_map'
2025-05-16 02:50:10,243 - DEBUG - editor_handlers_dialog.py:131 - handle_dialog_events - No new dialog active. Cleaning up dialog state.
2025-05-16 02:50:10,243 - DEBUG - editor.py:224 - editor_main - Dialog type changed from 'file_load' to 'None' after handle_dialog_events.
2025-05-16 02:50:10,243 - DEBUG - editor.py:226 - editor_main - Mode changed (likely via dialog callback) from 'menu' to 'editing_map'. Triggering layout recalc.
2025-05-16 02:50:10,243 - DEBUG - editor.py:239 - editor_main - Mode changed from 'menu' to 'editing_map' after specific event handlers. Triggering layout recalc.
2025-05-16 02:50:10,244 - DEBUG - editor.py:283 - editor_main - Recalculating layout. Current Mode: 'editing_map', Screen: 1280x720
2025-05-16 02:50:10,244 - DEBUG - editor.py:287 - editor_main - New Layout - Menu=<rect(10, 10, 280, 700)>, Assets=<rect(10, 10, 220, 700)>, Map=<rect(240, 10, 1030, 700)>
2025-05-16 02:50:11,822 - DEBUG - editor_updates.py:68 - update_continuous_camera_pan - Mouse exited map view. Initiated camera fling with momentum: (-6176.47, -2029.41) based on mouse velocity (-4117.647058823529, -1352.941176470588)
2025-05-16 02:50:14,267 - INFO - editor_handlers_map_editing.py:316 - handle_editing_map_events - Ctrl+S pressed: Save All attempt.
2025-05-16 02:50:14,267 - INFO - editor_map_utils.py:68 - save_map_to_json - Saving map to JSON. Map name: 'yes'
2025-05-16 02:50:14,267 - DEBUG - editor_map_utils.py:83 - save_map_to_json - Attempting to save JSON to: 'maps\yes.json'
2025-05-16 02:50:14,267 - DEBUG - editor_map_utils.py:119 - save_map_to_json - Data to save (first object example): {'asset_editor_key': 'platform_wall_gray', 'world_x': 0, 'world_y': 0, 'game_type_id': 'platform_wall_gray'}
2025-05-16 02:50:14,272 - INFO - editor_map_utils.py:125 - save_map_to_json - Editor data saved to: yes.json
2025-05-16 02:50:14,272 - INFO - editor_state.py:189 - set_status_message - Status message set: 'Editor data saved to: yes.json' for 3.0s
2025-05-16 02:50:14,272 - INFO - editor_map_utils.py:389 - export_map_to_game_python_script - Exporting map 'yes' to Python script.
2025-05-16 02:50:14,272 - DEBUG - editor_map_utils.py:410 - export_map_to_game_python_script - Exporting to function 'load_map_yes' in file 'maps\yes.py'
2025-05-16 02:50:14,272 - DEBUG - editor_map_utils.py:426 - export_map_to_game_python_script - Processing 231 objects for .py export.
2025-05-16 02:50:14,272 - DEBUG - editor_map_utils.py:435 - export_map_to_game_python_script - Export: Identified 10 lava-occupied coordinates for check: {(520.0, 720), (800.0, 720), (480.0, 720), (760.0, 720), (560.0, 720), (680.0, 720), (600.0, 720), (720.0, 720), (640.0, 720), (840.0, 720)}
2025-05-16 02:50:14,272 - WARNING - editor_map_utils.py:515 - export_map_to_game_python_script - Unknown game_type_id 'player2_spawn' for object at (80,680.0). Not exported to .py.
2025-05-16 02:50:14,273 - DEBUG - editor_map_utils.py:530 - export_map_to_game_python_script - Generated code lines - Platforms (merged): 27, Hazards: 10, Enemies: 6, Collectibles: 2
2025-05-16 02:50:14,273 - DEBUG - editor_map_utils.py:554 - export_map_to_game_python_script - Export boundaries - TotalWidthPx: 1400, MinYAbs: -80, MaxYAbs: 840
2025-05-16 02:50:14,273 - DEBUG - editor_map_utils.py:613 - export_map_to_game_python_script - Final .py script content (first 500 chars):
# Level: yes
# Generated by Platformer Level Editor (Optimized Export)
import pygame
from tiles import Platform, Ladder, Lava
import constants as C

LEVEL_SPECIFIC_BACKGROUND_COLOR = (173, 216, 230)

def load_map_yes(initial_screen_width, initial_screen_height):
    """
    Loads the 'yes' level.
    """
    print(f"Loading map: load_map_yes...")
    platforms = pygame.sprite.Group()
    ladders = pygame.sprite.Group()
    hazards = pygame.sprite.Group()
    enemy_spawns_data = []
    collectibl...
2025-05-16 02:50:14,279 - INFO - editor_map_utils.py:619 - export_map_to_game_python_script - Map exported to game script: yes.py
2025-05-16 02:50:14,279 - INFO - editor_state.py:189 - set_status_message - Status message set: 'Map exported to game script: yes.py' for 3.0s
2025-05-16 02:50:14,279 - DEBUG - editor_map_utils.py:622 - export_map_to_game_python_script - unsaved_changes set to False after .py export.
2025-05-16 02:50:15,815 - INFO - editor_handlers_map_editing.py:293 - handle_editing_map_events - Escape pressed: No asset selected, attempting to go to menu.
2025-05-16 02:50:15,815 - DEBUG - editor_state.py:96 - current_editor_mode - Changing editor mode from 'editing_map' to 'menu'
2025-05-16 02:50:15,815 - DEBUG - editor_state.py:197 - reset_map_context - Resetting map context.
2025-05-16 02:50:15,816 - DEBUG - editor_state.py:145 - selected_asset_editor_key - Attempting to set selected_asset_editor_key from 'None' to 'None'
2025-05-16 02:50:15,816 - DEBUG - editor_state.py:167 - selected_asset_editor_key - selected_asset_editor_key already 'None', no change needed for key or cursor state.
2025-05-16 02:50:15,816 - DEBUG - editor_state.py:214 - reset_map_context - Map context reset. Map name: 'untitled_map'.
2025-05-16 02:50:15,816 - DEBUG - editor.py:239 - editor_main - Mode changed from 'editing_map' to 'menu' after specific event handlers. Triggering layout recalc.
2025-05-16 02:50:15,816 - DEBUG - editor.py:283 - editor_main - Recalculating layout. Current Mode: 'menu', Screen: 1280x720
2025-05-16 02:50:15,816 - DEBUG - editor.py:287 - editor_main - New Layout - Menu=<rect(10, 10, 280, 700)>, Assets=<rect(10, 10, 220, 700)>, Map=<rect(300, 10, 970, 700)>
2025-05-16 02:50:16,595 - INFO - editor.py:231 - editor_main - Escape pressed in menu. Posting QUIT event.
2025-05-16 02:50:16,608 - INFO - editor_handlers_global.py:18 - handle_global_events - pygame.QUIT event received.
2025-05-16 02:50:16,608 - INFO - editor.py:217 - editor_main - handle_global_events returned False (QUIT). Setting running=False.
2025-05-16 02:50:16,608 - INFO - editor.py:338 - editor_main - Exiting editor_main. Calling pygame.quit().
2025-05-16 02:50:16,922 - INFO - editor.py:341 - editor_main - Editor session ended.
